<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Hand Tracking + 3D Model</title>
<style>
    body { margin: 0; overflow: hidden; background: #000; }
    video { display: none; }
</style>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.module.js";
import { GLTFLoader } from "https://cdn.jsdelivr.net/npm/three@0.157.0/examples/jsm/loaders/GLTFLoader.js";
import { Camera } from "https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js";
import { Hands } from "https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js";

let scene, camera3D, renderer, handModel;
let bones = [];

// ======================================================
// ✅ Inicializar escenario primero
// ======================================================
scene = new THREE.Scene();
camera3D = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 1000);
camera3D.position.set(0, 1, 3);

renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(2, 2, 3);
scene.add(light);

// ======================================================
// ✋ Cargar modelo riggeado
// ======================================================
const loader = new GLTFLoader();
loader.load("./rigged_hand.glb", (gltf) => {
    handModel = gltf.scene;
    scene.add(handModel);

    // Obtener huesos del modelo
